# nodeJs

构建在 chrome 的 V8 上，采用事件驱动，非阻塞模式

## 事件循环

## 创建进程和线程

## cluster

cluster 指的是集群，单个 node.js 实例运行在单个线程中。

为了充分利用多核系统，需要启动负载任务

原理是将物理机器划分为多台单核的虚拟机，通过 pm2 等工具，管理多台虚拟机形成一个集群架构，高效运行所需服务。

## 为什么单线程却能够支持高并发

单线程解决高并发的思路就是采用非阻塞，异步编程的思想。

简单概括就是当遇到非常耗时的 IO 操作时，采用非阻塞的方式，继续执行后面的代码，并且进入事件循环。
当 IO 操作完成时，程序会被通知 IO 操作已经完成。

多线程虽然也能解决高并发，但是是以建立多个线程来实现，其缺点是当遇到耗时的 IO 操作时，当前线程会被阻塞，并且把 CPU 的控制权交给其他线程。
这样带来的问题就是要非常频繁的进行线程的上下文切换。
