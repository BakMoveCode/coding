# HTTP

https://github.com/Advanced-Interview-Question/front-end-interview/blob/dev/docs/guide/http.md

https://zhuanlan.zhihu.com/p/86426969

## HTTP 协议由哪些方法？

GET，用通常于请求服务器发送某些资源
POST，发送数据给服务器
HEAD，请求资源的头部信息，并且这些头部与 http get 方法请求时返回的一致。该请求方法的一个使用场景是在下载一个大文件前县获取其大小再决定是否要下载以此可以节约宽带资源。
OPTIONS，用于获取目的资源所支持的通信选项
PUT，用于新增资源或者使用请求中的有效负载替换目标资源的表现形式
DELETE，用于删除指定的资源
PATCH，用于对资源进行部分修改
CONNECT，http1.1 协议中预留给能够将连接改为管道方式的代理服务器
TRACE，用显服务器收到的请求，主要用于测试或者诊断

GET 和 POST 的区别：

1. 数据传输方式不同：GET 请求通过 URL 传输数据，而 POST 的数据通过请求体传输
2. 安全性不同：POST 的数据因为在请求主体内，所以由一定的安全性保证，而 GET 的数据在 URL 中，通过历史记录，缓存很容易查到数据信息
3. 数据类型不同：GET 只允许 ASCII 字符，而 POST 无限制
4. GET 无害：刷新，后退等浏览器操作 GET 请求是无害的，POST 可能重复提交表单
5. 特性不同：GET 是安全（这里的安全是指只读性，就是使用这个方法不会引起服务器状态变化）且幂等（幂等的概念就是指同一个请求方法执行多次和仅仅执行以此的效果完全相同），而 POST 是非安全非幂等

PUT 和 POST 都是给服务器发送新增资源，区别是什么？

PUT 和 PATCH 都是给服务器发送修改资源，区别是什么？

## http 的请求报文是什么样的？

1. 请求报文由 4 部分组成

- 请求行（请求方法，URL 字段，http 协议版本）
- 请求头部，请求头部由关键字/值对组成，每行一对，关键字和值用英文冒号：分隔
- 空行
- 请求体

2. 响应报文由 4 部分组成

- 响应行（协议，版本，状态码，状态码的原因短语）
- 响应头
- 空行
- 响应体

## HTTP 的状态码由哪些

2XX 成功
3XX 重定向
4XX 客户端错误
5XX 服务器错误

## 深入理解 HTTPS 工作原理

HTTPS 相比于 HTTP 的优点：

1. 密文传输
2. 安全性，证书与数字签名
3. 数据一致性

## HTTP2/HTTP3 特性

## 网络安全，XSS 和 CSRF

## 缓存

## 跨域

## web 实时推送技术的总结

## HTTP 的工作原理

## 讲解 HTPPS 对称加密和非对称加密

## 如何保证页面文件能被完整送达浏览器

基本传输过程：

1. 上层将数据包叫给传输层
2. 传输层会在数据包前面附加上 UDP 头，组成新的 UDP 数据包，再将新的 UDP 数据包交给网络层
3. 网络层再将 IP 头附加到数据包上，组成新的 IP 数据包，并交给底层
4. 数据包被传输到主机 B 的网络层，在这里主机 B 拆开 IP 头信息，并将拆开来的数据部分交给传输层
5. 在传输层，数据包中的 UDP 头会被拆开，并根据 UDP 中所提供的端口号，把数据部分交给上层的应用程序
6. 最终，数据包就发送到了主机 B 上层应用程序这里

## UDP 和 TCP 有什么区别

## TCP 的三次握手

## TCP 的四次挥手

## 为什么很多站点第二次打开速度会很快？

https://mp.weixin.qq.com/s/klZ6j3Gj9cwHGQFys6Hdjg

主要原因是第一次加载页面过程中，缓存了一些耗时的数据。

1. DNS 缓存
   在浏览器本地把对应的 IP 和域名关联起来，这样在 DNS 解析的时候就很快

2. MemoryCache
   是指存在内存中的缓存。从优先级上来说，它是浏览器最先尝试去命中的一种缓存。从效率上来说，它是响应速度最快的一种缓存。
   当进程结束后，也就是 tab 关闭以后，内存里的数据也将不复存在

3. 浏览器缓存
   分为强缓存和协商缓存。优先级较高的是强缓存，在命中强缓存失败的情况下，才会走协商缓存。

   强缓存
   强缓存是利用 http 头中的 expires 和 cache-control 来控制的。
   当请求再次发出时，浏览器会根据其中的 expires 和 cache-control 判断目标资源是否命中强缓存，若命中则直接从缓存中获取资源，不会再与服务端发送通信。
   cache-control 中通过 max-age 来控制资源的有效期。

   协商缓存
   协商缓存依赖与服务端与浏览器之间的通信。协商缓存机制下，浏览器需要向服务器校验资源的新鲜度。
   若网络请求对应的状态码是 304，则表示服务端提示缓存资源未改动，会获取浏览器缓存中的数据

   1. Last-Modified（If-Modified-Since）

   - 存在问题是服务器并没有正确感知文件的变化，会存在资源校验失效的情况。

   2. Etag（If-None-Match）

   - 由服务器是基于文件内容编码为每一个资源生成的唯一标识字符串，能够精确地感知文件的变化。
   - etag 的生成过程需要服务器额外付出开销，会影响服务端的性能。

4. Service Worker Cache

   是一种独立于主线程之外的 JS 线程，脱离来浏览器窗体，因此无法直接访问 DOM。
   可以实现离线缓存，消息推送和网络代理等功能。

   Service Worker 的生命周期包括 install、active、working 三个阶段。一旦 Service Worker 被 install，它将始终存在，只会在 active 与 working 之间切换，除非我们主动终止它。这是它可以用来实现离线存储的重要先决条件.

5. Push Cache
